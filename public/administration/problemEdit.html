<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" href="assets/images/becoder.png" type="image/gif" sizes="16x16">
  <title>becoder</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
  <!-- Bootstrap core CSS -->
  <link href="../assets/library/mdb/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="../assets/library/mdb/css/mdb.min.css" rel="stylesheet">
  <!-- JQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="../assets/library/mdb/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="../assets/library/mdb/js/mdb.min.js"></script>
  <script src="https://cdn.ckeditor.com/ckeditor5/12.2.0/classic/ckeditor.js"></script>

<!--  firebase config-->
    <script src="../__/firebase/5.6.0/firebase-app.js"></script>
    <script src="../__/firebase/5.6.0/firebase-auth.js"></script>
    <script src="../__/firebase/5.6.0/firebase-firestore.js"></script>
    <script src="../__/firebase/5.6.0/firebase-storage.js"></script>
    <script src="../__/firebase/5.6.0/firebase-messaging.js"></script>
    <!--  firebase config-->
<script src="../__/firebase/init.js"></script>

  <style>
  html, body {
    max-width: 100%;
    overflow-x: hidden;
  }
      .card{
          background-color: #fafafa ;
      }
    /*becoder style*/
    .becoder_tutorial_header > h3{
      filter:blur(1px);
      font-size: 20px;
    }
    .navbar .navbar-brand{
      margin-left:10% !important;
    }
    .navbar-nav > li{
      padding-left: 10px;
      padding-right: 10px;
    }
    .ml-auto .dropdown-menu {
      margin-top: 7px !important;
     left: auto !important;
     right: 0px;
    }
    /* TEMPLATE STYLES */

     main {
         padding-bottom: 2rem;
     }

     .extra-margins {
         margin-top: 1rem;
         margin-bottom: 2.5rem;
     }

     .jumbotron {
         text-align: center;
     }

     .navbar {
         background-color: #3b295a;
     }

     footer.page-footer {
         background-color: #3b295a;
         margin-top: 2rem;
     }
     .navbar .btn-group .dropdown-menu a:hover {
         color: #000 !important;
     }
     .navbar .btn-group .dropdown-menu a:active {
         color: #fff !important;
     }

  /*login/register*/
    .social {
        float: left;
        margin: 0 auto 30px;
        text-align: center;
    }

    .social .circle{
           width: 50px;
       height: 50px;
       -moz-border-radius: 70px;
       -webkit-border-radius: 70px;
       border-radius: 70px;

        background-color: #EEEEEE;
        color: #FFFFFF;
        display: inline-block;
        margin: 5px 13px;
        padding: 15px;
    }
     .social .circle .fab{
        font-size: 20px;
    }
    .social .facebook{
        background-color: #455CA8;
        color: #FFFFFF;
    }
    .social .google{
        background-color: #F74933;
    }
    .social .github{
        background-color: #403A3A;
    }
    .facebook:hover{
        background-color: #6E83CD;
    }
    .google:hover{
        background-color: #FF7566;
    }
    .github:hover{
        background-color: #4D4D4d;;
    }
    .login_connect_with{
        text-align: center;
    }
    .contest_reg_button{
        border: 1px solid black;
        padding: 5px;
        padding-left: 25px;
        padding-right: 25px;
        border-radius: 5px;
        font-size: 20px;
        z-index: 0;
      }
.no_padding{
  padding: 0;
  margin: 0;
}

.contest_list{
  margin-left : 100px!important;
  margin-right : 100px!important;
}
.contest_search{
  margin-left: 460px;
}
html, body {
    max-width: 100%;
    overflow-x: hidden;
}
  .create_challange_div label{
    display: inline-block;

  }
  .create_challange_div textarea{
    width: 400px;
    height: 50px;
  }
  .create_challange_div label{
    position: relative;
    top: 40px;
  }
  .create_challange_div div{
  }

  label.required::after {
    content: '*';
    margin-left: 2px;
    color: red;
    font-size:20px;
  }
.grid-container{
  margin-left: 250px!important;
}
.medium{
  width: 500px;
}
.grid-container{
  width: 750px;
}
.ck-editor__editable
{
    min-height: 200px !important;
}
.notopbottom{
  margin-top: 0!important;
  margin-bottom: 0!important;
  padding-top: 0!important;
  padding-bottom: 0!important;
  font-size: 20px;

}
.dropup {
  position: relative;
  display: inline-block;
}

.dropup-content {
  display: none;
  position: absolute;
  background-color: #f1f1f1;
  min-width: 160px;
  bottom: 50px;
  z-index: 1;
}

.dropup-content div{
  color: black;
  padding: 12px 16px;
  text-decoration: none;
  display: block;
}
</style>

</head>
    <body class="grey lighten-3">

  <!--Main Navigation-->
  <header>
    <!--Navbar-->
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-blue scrolling-navbar">
      <a class="navbar-brand" href="../index.html">
        <img src="../assets/images/becoder.png" width="30" height="30" class="d-inline-block align-top" alt="">
      </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#becoderNavbarToggle" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="becoderNavbarToggle">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
              <li class="nav-item active">
                <a class="nav-link" href="../index.html">Home <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Practice</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../contests.html">Contests</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Resource</a>
              </li>
              <li class="nav-item" style="padding-right:20px;padding-left:20px">

              </li>

            </ul>
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link" href="#">Leaderboard</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Notifications</a>
              </li>
              <li class="nav-item dropdown" id="navbar-user-item" hidden>
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <img id="nav-user-pic" width="30" height="30" class="d-inline-block align-top" alt="">
                  <span id="nav-user-name">becoder</span></a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="#">Ranking</a>
                  <a class="dropdown-item" href="../userProfile.html">Profile</a>
                  <a class="dropdown-item" href="#">Submission</a>
                  <a class="dropdown-item" href="#">Note</a>
                  <a class="dropdown-item" href="#">Setting</a>
                  <a class="dropdown-item" href="contests.html">Administration</a>
                  <a class="dropdown-item" id="logout" href="#">Logout</a>

                </div>
              </li>
            </ul>
          </div>
        </nav>
    <!--/.Navbar-->

    </header>


    <main class="container-fluid m-4">
          <br />
          <div class="ml-5 container-fluid mt-5">
            <!--
              <button type="button" id="saveProblemLanguageSetting"class="btn btn-primary">Save Changes</button> -->
              <div class="d-flex justify-content-end">
                <div class="mr-auto"><h1><strong>Manage Problem </strong><span id="mangaeProblemHeaderProblemName" style="font-size:14px"></span></h1></div>
                <div class="mr-5">
                  <button type="button" id="previewProblemButton"
                   class="btn btn-success">Preview Problem</button>
                 </div>
              </div>
          </div>
           <hr />
      <ul class="m-3 p-3 border nav nav-tabs  md-tabs  hoverable" id="myTabJust" role="tablist" >
        <li class="nav-item">

          <a class="nav-link active" id="home-tab-just" data-toggle="tab" href="#home-just" role="tab" aria-controls="home-just"
            aria-selected="true"><strong>Details</strong></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="moderators-tab-just" data-toggle="tab" href="#profile-just" role="tab" aria-controls="profile-just"
            aria-selected="false"><strong>Moderators</strong></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="testcase-tab-just" data-toggle="tab" href="#testcase-just" role="tab" aria-controls="profile-just"
            aria-selected="false"><strong>Test Case</strong></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="language-tab-just" data-toggle="tab" href="#language-just" role="tab" aria-controls="profile-just"
            aria-selected="false"><strong>Language</strong></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="profile-tab-just" data-toggle="tab" href="#profile-just" role="tab" aria-controls="profile-just"
            aria-selected="false"><strong>Setting</strong></a>
        </li>
      </ul>
      <div class="container-fluid tab-content  " id="myTabContentJust" >
        <div class=" tab-pane fade show active card pt-4 pl-5 pr-5" id="home-just" role="tabpanel" aria-labelledby="home-tab-just">

          <div class="container-fluid ">
          <div class="maincontent ml-5 mr-5">

          <div class="head">
          <h2>Create Problem By Own</h2>
          <p>Get started by providing the initial details needed to create a challenge.</p>

          </div>
          <hr />

          <div class="landingPageForm">
                    <div class="create_challange_div">
                        <label class="required">Problem Name</label>
                        <div class="ml-5">
                          <div class="grid-container ml-5">
                            <input type="text" id="problem_name_text"  class="medium" />

                            </div>
                        </div>
                    </div>

                    <div class="create_challange_div ">
                        <label class="required">Problem Statement</label>
                        <div class="ml-5">
                          <div class="grid-container ml-5">
                      				<div id="editor">

                      				</div>
                            </div>
                        </div>

                    </div>

                    <div class="create_challange_div">
                        <label class="required">Input Format</label>
                        <div class="ml-5">
                          <div class="grid-container ml-5">
                              <div id="editor2">

                              </div>
                            </div>
                        </div>
                    </div>

                    <div class="create_challange_div">
                        <label class="required">Constraints</label>
                        <div class="ml-5">
                          <div class="grid-container ml-5">
                              <div id="editor3">

                              </div>
                            </div>
                        </div>
                      </div>


                      <div class="create_challange_div">
                        <label class="required">Output Format</label>
                        <div class="ml-5">
                          <div class="grid-container ml-5">
                      				<div id="editor4">

                      				</div>
                            </div>
                        </div>
                        </div>


                        <div class="create_challange_div">
                          <label class="required">Tags</label>
                          <div class="ml-5">
                            <div class="grid-container">
                        				<textarea id="problem_tags">
                                </textarea>
                              </div>
                          </div>
                          </div>
                          <br style="margin-bottom:200px;"/>
                          <br style="margin-bottom:200px;"/>
                          <br style="margin-bottom:200px;"/>

          </div>


          </div>

          </div>
            <div class="page-footer footer navbar-fixed-bottom">

            <!-- Copyright -->
            <div class="footer-copyright text-right py-3 pr-5">
              <button onclick="updateProblem()" type="button" class="btn btn-success" >Save Changes</button>
            </div>
            <!-- Copyright -->
          </div>
        </div>


        <div class="tab-pane fade card pt-4 pl-5 pr-5" id="profile-just" role="tabpanel" aria-labelledby="moderators-tab-just">
          <div class="container" style="margin-left: 300px!important;">
            <p class="text-info">Enter Moderator's BeCoder Username. Moderaators can edit and manage your contest.</p>
            <div class="row">
                <div class="col-md-4">
                    <!-- Material input -->
                    <div class="md-form">
                      <i class="fas fa-user prefix"></i>
                      <input type="text" id="inputIconEx2" placeholder="Add New Moderators" class="form-control">
                      <div class="dropup">

                        <div id="searchmoderatorsname" class="dropup-content list-group z-depth-5 " hidden style="width:600px!important;max-height:180px; overflow:hidden; overflow-y:scroll;" >

                        </div>
                      </div>
                    </div>
                </div>

            </div>


          </div>
          <div class="row">
            <div class="col-md-3">
              <!-- Card Regular -->
                <div class="card card-cascade">

                  <!-- Card image -->
                  <div class="view view-cascade overlay">
                    <img class="card-img-top" id="problem_owner_profile_pic" alt="Card image cap">
                    <a>
                      <div class="mask rgba-white-slight"></div>
                    </a>
                  </div>

                  <!-- Card content -->
                  <div class="card-body card-body-cascade text-center">

                    <!-- Title -->
                    <h4 class="card-title"><strong id="problem_owner_name"></strong></h4>
                    <!-- Subtitle -->
                    <h6 class="font-weight-bold indigo-text py-2">Contest Owner</h6>
                    <!-- Text -->
                    <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipisicing elit. Voluptatibus, ex, recusandae. Facere modi sunt, quod quibusdam.
                    </p>

                    <!-- Facebook -->
                    <a type="button" class="btn-floating btn-small btn-fb"><i class="fab fa-facebook-f"></i></a>
                    <!-- Twitter -->
                    <a type="button" class="btn-floating btn-small btn-tw"><i class="fab fa-twitter"></i></a>
                    <!-- Google + -->
                    <a type="button" class="btn-floating btn-smalsl btn-dribbble"><i class="fab fa-dribbble"></i></a>

                  </div>

                </div>
                <!-- Card Regular -->

            </div>

            <div class="col-md-9">

                <!-- Editable table -->
                <div class="" style="z-index:1!important">
                  <h3 class="card-header text-center font-weight-bold text-info  py-4">Moderators List</h3>
                  <div class="card-body">
                    <div id="table" class="table-editable">

                      <table class="table table-bordered table-responsive-md table-striped text-center">
                        <thead>
                          <tr>
                            <th class="text-center">Moderators Name</th>
                            <th class="text-center">Username</th>
                            <th class="text-center">Remove</th>
                          </tr>
                        </thead>
                        <tbody id="problemModeratorTableBody">


                        </tbody>
                      </table>
                    </div>
                  </div>
                </div>
                <!-- Editable table -->

            </div>

          </div>


        </div>




        <div class="tab-pane fade card pt-4 pl-5 pr-5" id="testcase-just" role="tabpanel" aria-labelledby="testcase-tab-just">
          <div class="container">
              <div class="wrapper-editor">

                  <div class="block my-4">
                    <div class="d-flex justify-content-center">
                      <p class="h5 text-primary createShowP">Add test cases to judge the correctness of a user’s code.</p>
                    </div>
                  </div>

                  <div class="row d-flex justify-content-center modalWrapper">


                      <div class="modal fade" id="modalAdd" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        <div class="modal-dialog" role="document">
                          <div class="modal-content">
                            <div class="modal-header">
                              <h5 class="modal-title" id="exampleModalLabel">Add Problem Tese Case</h5>
                              <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                <span aria-hidden="true">&times;</span>
                              </button>
                            </div>
                            <div class="modal-body">
                              <form>
                                <div class="form-group">
                                  <label  class="col-form-label">Tag: </label>
                                  <input type="text" id="testCaseInputTag">
                                  <input type="checkbox" id="autoTagCheckbox">
                                  <span class="mr-5">Auto</span>
                                  <input type="checkbox" id="inputAsSamplecheckbox">
                                  <span>Sample</span>
                                </div>
                                <div class="form-group">
                                  <label  class="col-form-label">Input</label>
                                  <textarea class="form-control" id="testCaseInput"></textarea>
                                </div>
                                <div class="form-group">
                                  <label  class="col-form-label">Output</label>
                                  <textarea class="form-control" id="testCaseOutput"></textarea>
                                </div>
                              </form>
                            </div>
                            <div class="modal-footer">
                              <button type="button" class="btn btn-primary" id="addTextCaseButton">Add Test Case</button>
                            </div>
                          </div>
                        </div>
                      </div>
                    <div class="text-center">

                      <a href="" class="btn btn-info btn-rounded btn-sm" data-toggle="modal" data-target="#modalAdd">Add<i
                          class="fas fa-plus-square ml-1"></i></a>
                    </div>

                    <div class="modal fade modalEditClass" id="modalEdit" tabindex="-1" role="dialog" aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header text-center">
                            <h4 class="modal-title w-100 font-weight-bold text-secondary ml-5">Edit Test Case</h4>
                            <button type="button" class="close text-secondary" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body mx-3">
                            <div class="md-form mb-5">
                              <input type="text" id="formNameEdit" class="form-control validate">
                              <label data-error="wrong" data-success="right" for="formNameEdit">Tag</label>
                            </div>

                            <div class="md-form mb-5">
                              <textarea  id="formPositionEdit" class="form-control validate"> </textarea>
                              <label data-error="wrong" data-success="right" for="formPositionEdit">Input</label>
                            </div>

                            <div class="md-form mb-5">
                              <textarea  class="form-control validate"> </textarea>
                              <label data-error="wrong" data-success="right" for="formOfficeEdit">Output</label>
                            </div>

                            <div class="md-form mb-5">
                              <input type="text" id="formAgeEdit" class="form-control validate">
                              <textarea  class="form-control validate"> </textarea>
                            </div>



                            <div class="md-form mb-5">
                              <textarea  class="form-control validate"> </textarea>
                              <label data-error="wrong" data-success="right" for="formSalaryEdit">Sample</label>
                            </div>


                          </div>
                          <div class="modal-footer d-flex justify-content-center editInsideWrapper">
                            <button class="btn btn-outline-secondary btn-block editInside" data-dismiss="modal">Edit
                              Test Case
                              <i class="fas fa-paper-plane-o ml-1"></i>
                            </button>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="text-center buttonEditWrapper">
                      <button class="btn btn-info btn-rounded btn-sm buttonEdit" data-toggle="modal" data-target="#modalEdit"
                        disabled>Edit<i class="fas fa-pencil-square-o ml-1"></i></a>
                    </div>

                    <div class="modal fade" id="modalDelete" tabindex="-1" role="dialog" aria-labelledby="modalDelete"
                      aria-hidden="true">
                      <div class="modal-dialog" role="document">
                        <div class="modal-content">
                          <div class="modal-header text-center">
                            <h4 class="modal-title w-100 font-weight-bold ml-5 text-danger">Delete</h4>
                            <button type="button" class="close text-danger" data-dismiss="modal" aria-label="Close">
                              <span aria-hidden="true">&times;</span>
                            </button>
                          </div>
                          <div class="modal-body mx-3">
                            <p class="text-center h4">Are you sure to delete selected row?</p>

                          </div>
                          <div class="modal-footer d-flex justify-content-center deleteButtonsWrapper">
                            <button type="button" class="btn btn-danger btnYesClass" id="btnYes" data-dismiss="modal">Yes</button>
                            <button type="button" class="btn btn-primary btnNoClass" id="btnNo" data-dismiss="modal">No</button>
                          </div>
                        </div>
                      </div>
                    </div>

                    <div class="text-center">
                      <button class="btn btn-danger btn-sm btn-rounded buttonDelete" data-toggle="modal" disabled data-target="#modalDelete"
                        disabled>Delete<i class="fas fa-times ml-1"></i></a>
                    </div>
                  </div>

                  <table id="dtBasicExample" class="table table-striped table-bordered" cellspacing="0" width="100%">
                    <thead>
                      <tr>
                        <th class="th-sm">#</th>
                        <th class="th-sm">Tag</th>
                        <th class="th-sm">Input</th>
                        <th class="th-sm">Output</th>
                        <th class="th-sm">Sample</th>
                        <th></th>
                      </tr>
                    </thead>
                    <tbody id="problemTestCasesTableBody">


                    </tbody>

                  </table>


                </div>

          </div>
        </div>


        <div class="tab-pane fade card pt-4 pl-5 pr-5" id="language-just" role="tabpanel" aria-labelledby="language-tab-just">
            <div class="container">
              <h4 class="text-success font-weight-bold">Select preferable language for the challenge.</h4>
              <table class="table table-hover">
                      <thead>
                        <tr>
                          <th scope="col">Language Id</th>
                          <th scope="col">Language</th>
                          <th scope="col">Time Limit(S)</th>
                          <th scope="col">Memory Limit(MB)</th>
                          <th scope="col">Edit</th>
                        </tr>
                      </thead>
                      <tbody id="problemLanguageDetailsTableBody">


                      </tbody>
                    </table>



            </div>

        </div>


      </div>
    </main>

<!-- modal -->
<div class="modal fade" id="problemLanguageSettingModalButton" tabindex="-1" role="dialog" aria-labelledby="problemLanguageSettingModalButton" aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="languageSettingFortext"></h5>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <form>
          <input type="text" hidden id="probleLangId"  />
          <input type="text" hidden id="problemIdLangSetting"  />
          <input type="text" hidden id="modalSettingLanguageName">

          <div class="form-group">
            <label  class="col-form-label">Add this Language</label>
            <input type="checkbox" id="addLanguageToProblem">

          </div>
          <div class="form-group">
            <label  class="col-form-label">Time Limit (seconds)</label>
            <input id="problemLanguageTimeLimitModal" class="form-control time-limits" type="text">
          </div>
          <div class="form-group">
            <label  class="col-form-label">Memory Limit (MB)</label>
            <input id="problemLanguageMemoryLimitModal" class="form-control" type="text">
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" id="saveProblemLanguageSetting"class="btn btn-primary">Save Changes</button>
      </div>
    </div>
  </div>
</div>


      <!--End Footer Layout-->
      <footer class="page-footer text-center text-md-left mt-4 pt-4">
        <!--Footer links-->
        <div class="container-fluid">
          <div class="row">
            <!--First column-->
            <div class="col-lg-3 col-md-6 ml-auto">
              <h5 class="title mb-3"><strong>About becoder</strong></h5>
              <p>In mathematics and computer science, an algorithm is an unambiguous
                 specification of how to solve a class of problems.</p>
              <p>In mathematics and computer science, an algorithm is an unambiguous
                specification of how to solve a class of problems.</p>
            </div>
            <!--/.First column-->
            <hr class="w-100 clearfix d-sm-none">
            <!--Second column-->
            <div class="col-lg-2 col-md-6 ml-auto mb-4">
              <h5 class="title mb-3"><strong>First column</strong></h5>
              <ul class="list-unstyled">
                <li>
                  <a href="#!">Link 1</a>
                </li>
                <li>
                  <a href="#!">Link 2</a>
                </li>
                <li>
                  <a href="#!">Link 3</a>
                </li>
                <li>
                  <a href="#!">Link 4</a>
                </li>
              </ul>
            </div>
            <!--/.Second column-->
            <hr class="w-100 clearfix d-sm-none">
            <!--Third column-->
            <div class="col-lg-2 col-md-6 ml-auto mb-4">
              <h5 class="title mb-3"><strong>Second column</strong></h5>
              <ul class="list-unstyled">
                <li>
                  <a href="#!">Link 1</a>
                </li>
                <li>
                  <a href="#!">Link 2</a>
                </li>
                <li>
                  <a href="#!">Link 3</a>
                </li>
                <li>
                  <a href="#!">Link 4</a>
                </li>
              </ul>
            </div>
            <!--/.Third column-->
            <hr class="w-100 clearfix d-sm-none">
            <!--Fourth column-->
            <div class="col-lg-2 col-md-6 ml-auto mb-4">
              <h5 class="title mb-3"><strong>Third column</strong></h5>
              <ul class="list-unstyled">
                <li>
                  <a href="#!">Link 1</a>
                </li>
                <li>
                  <a href="#!">Link 2</a>
                </li>
                <li>
                  <a href="#!">Link 3</a>
                </li>
                <li>
                  <a href="#!">Link 4</a>
                </li>
              </ul>
            </div>
            <!--/.Fourth column-->
          </div>
        </div>
        <!--/.Footer links-->
        <hr>
        <!--Call to action-->
        <div class="call-to-action text-center my-4" id="footer-signin-signup-button" hidden>
          <h4 class="mb-4">Learn to code</h4>
          <h5 class="mb-4">Register and start coding</h5>
          <ul class="list-unstyled list-inline">
            <li class="list-inline-item">
              <a href="#" class="btn btn-primary waves-effect waves-light"
                rel="nofollow">Register</a>
            </li>
            <li class="list-inline-item">
              <a  href="#" class="btn btn-info waves-effect waves-light"
                rel="nofollow" data-toggle="modal" data-target="#modalLRForm"  role="tab">Log in</a>
            </li>
          </ul>
        </div>
        <!--/.Call to action-->

        <!--Copyright-->
        <div class="footer-copyright py-3 text-center">
          <div class="containter-fluid">
            © 2019 Copyright: <a href="index.html"> becoder.com </a>
          </div>
        </div>
        <!--/.Copyright-->
      </footer>
      <!--/.Footer-->
      <script>
      new WOW().init();
      </script>
      <script type="text/javascript" src="../bin/becoder.js"></script>
    <script>

        var logoutButton = document.getElementById('logout');
        var userNavItem = document.getElementById('navbar-user-item');
        var userNavName = document.getElementById('nav-user-name');
        var userNavPic = document.getElementById('nav-user-pic');
        var problemAuthorName = document.getElementById('problem_owner_name');
        var problemAuthorProfilePicture = document.getElementById('problem_owner_profile_pic');


        logoutButton.addEventListener('click',signOut);
        initFirebaseAuthCreateProblem();

      function updateProblemFirestore(updateProblemDb,docId){
        firestore.collection("problemsTest").doc(docId).set(updateProblemDb)
        .then(function() {
            console.log("Document successfully written!");
            window.location.href = "contests.html";

        })
        .catch(function(error) {
            console.error("Error writing document: ", error);
        });
      }

    var problemNameText = document.getElementById('problem_name_text');
    var problemTags = document.getElementById('problem_tags');

    const editors = {}; // You can also use new Map() if you use ES6.

    function createEditor( elementId ,data) {
        return ClassicEditor
            .create( document.getElementById( elementId ) )
            .then( editor => {
                editors[ elementId ] = editor;
                editor.setData(data);
            } )
            .catch( err => console.error( err.stack ) );
    }
    var queryString = decodeURIComponent(window.location.search);
    queryString = queryString.substring(1);
    var queries = queryString.split("$data$");
    var problemIdReference = queries[1];
    var problemDetails = JSON.parse(queries[0]);
    problemNameText.value = problemDetails.problemName;
    document.getElementById('mangaeProblemHeaderProblemName').innerText = problemDetails.problemName;
    problemTags.value = problemDetails.problemTag;
    createEditor( 'editor' ,problemDetails.problemStatement);
    createEditor( 'editor2' ,problemDetails.inputFormate);
    createEditor( 'editor3' ,problemDetails.problemConstraints);
    createEditor( 'editor4', problemDetails.outputFormate);

    $(document).ready(function(){
      $("#inputIconEx2").keypress(function(){
        $("#searchmoderatorsname").removeAttr("hidden");
        $("#searchmoderatorsname").show();

      });
      $("body").click(function(){
        $("#searchmoderatorsname").attr("hidden",true);
      });

      $("#autoTagCheckbox").change(function() {
          if(this.checked) {
              $("#testCaseInputTag").attr("disabled",true);
              console.log("disable");
          }
          else{
            $("#testCaseInputTag").removeAttr("disabled",false);
            console.log("disabled");

          }
      });

      $("#inputIconEx2").keyup(function(){
        $("#searchmoderatorsname").removeAttr("hidden");
        $("#searchmoderatorsname").show();
        var searchUsernameQuery =  $("#inputIconEx2").val();
        searchUserFromDbByUsername(searchUsernameQuery,queries[1]);

      });



      listenForProblemModerators(queries[1]);
      listenForProblemTeseCases(queries[1]);
      listenForProblemLanguageDet(queries[1]);

      $("#addTextCaseButton").click(function(){
        var problemTestCase;
        if ($('#autoTagCheckbox').is(":checked"))
        {
           var testCaseTagVal =getCurrentUserId()+Date.parse(new Date());
           var sampleVal = $("#inputAsSamplecheckbox").is(':checked');
           var testCaseInputVal = $("#testCaseInput").val();
           var testCaseOutputVal = $("#testCaseOutput").val();
           problemTestCase = {
             testCaseTag: testCaseTagVal,
             sample: sampleVal,
             testCaseInput: testCaseInputVal,
             testCaseOutput: testCaseOutputVal
           };

        }
        else{
          var testCaseTagVal = $("#testCaseInputTag").val();
          var sampleVal = $("#inputAsSamplecheckbox").is(':checked');
          var testCaseInputVal = $("#testCaseInput").val();
          var testCaseOutputVal = $("#testCaseOutput").val();
          problemTestCase = {
            testCaseTag: testCaseTagVal,
            sample: sampleVal,
            testCaseInput: testCaseInputVal,
            testCaseOutput: testCaseOutputVal
          };
        }
        addProblemTestCase(problemTestCase,queries[1]);

      });
      $("#previewProblemButton").click(function(){
        location.href = "../specificProblem.html?"+problemIdReference;
      });
    });

    function listenForProblemLanguageDet(problemId){
      firestore.collection("problemsTest").doc(problemId).collection("problemLanguages").orderBy("languageId")
      .onSnapshot(function(querySnapshot) {
        $("#problemLanguageDetailsTableBody").empty();
        querySnapshot.forEach(function(doc) {
          var data = doc.data();
          console.log("sfjjhfs hgub jk"+doc.id);
          var problemLanguageDetailsTableRow;
          if(data.languageCheck){
            problemLanguageDetailsTableRow = '<tr> \
              <td><input type="checkbox" disabled checked name="name1" />&nbsp;<span class="ml-5">'+data.languageId+'</span></td>\
              <td>'+data.languageName+'</td>\
              <td>'+data.languageTimelimit+'</td>\
              <td>'+data.languageMemoryLimit+'</td>\
              <td><i id="'+doc.id+'" class="fas fa-pencil-alt" data-toggle="modal" data-target="#problemLanguageSettingModalButton"></i></td>\
            </tr>';
          }
          else{
            problemLanguageDetailsTableRow = '<tr> \
              <td><input type="checkbox"  disabled name="name1" />&nbsp;<span class="ml-5">'+data.languageId+'</span></td>\
              <td>'+data.languageName+'</td>\
              <td>'+data.languageTimelimit+'</td>\
              <td>'+data.languageMemoryLimit+'</td>\
              <td><i id="'+doc.id+'" class="fas fa-pencil-alt" data-toggle="modal" data-target="#problemLanguageSettingModalButton"></i></td>\
            </tr>';
          }
            $("#problemLanguageDetailsTableBody").append(problemLanguageDetailsTableRow);

            $("#"+doc.id).click(function(){
              if (data.languageCheck){
                $("#addLanguageToProblem").prop('checked', true);

              }
              $("#probleLangId").val(data.languageId);
              $("#problemIdLangSetting").val(problemId);
              $("#modalSettingLanguageName").val(data.languageName);
              $("#problemLanguageTimeLimitModal").val(data.languageTimelimit);
              $("#problemLanguageMemoryLimitModal").val(data.languageMemoryLimit);
              $("#languageSettingFortext").text("Language Setting For "+data.languageName);
            });
       });

    });
    $("#saveProblemLanguageSetting").click(function(){
      var ckLang ;


      if ($('#addLanguageToProblem').is(":checked"))
      {
        ckLang = true;
      }
      else{
        ckLang = false;
      }
      var langDetails = {
        languageCheck : ckLang,
        languageId :   parseInt($("#probleLangId").val()),
        languageName :  $("#modalSettingLanguageName").val(),
        languageTimelimit : $("#problemLanguageTimeLimitModal").val(),
        languageMemoryLimit : $("#problemLanguageMemoryLimitModal").val()

      }
      firestore.collection("problemsTest").doc($("#problemIdLangSetting").val()).collection("problemLanguages").doc("languagecode"+$("#probleLangId").val()).set(langDetails)
      .then(function(docRef) {
          console.log("Document written with ID bbj fucks: ", "docRef.id");
      })
      .catch(function(error) {
          console.error("Error adding document: ", error);
      });
    });
  }

    function listenForProblemTeseCases(problemIds){

            firestore.collection("problemsTest").doc(problemIds).collection("problemTestCases")
            .onSnapshot(function(querySnapshot) {
              $("#problemTestCasesTableBody").empty();
              var count = 1;
              querySnapshot.forEach(function(doc) {
                var data = doc.data();
                console.log("sfjjhfs hgub"+doc.id);
                var problemTestCasesTableRow = '<tr> \
                                        <td class="th-sm"><input class="mr-5" type="checkbox"><span>'+count+'</span></td>\
                                        <td class="th-sm">'+data.testCaseTag+'</td>\
                                        <td class="th-sm">'+data.testCaseInput+'</td>\
                                        <td class="th-sm">'+data.testCaseOutput+'</td>\
                                        <td class="th-sm">\
                                        <input class="ml-5" checked type="checkbox">\
                                        </td>\
                                        <td>\
                                        <i id="problemTestCaseEditIcon'+data.testCaseTag+'" class="fas fa-edit"></i> \
                                        <i id="problemTestCaseDeleteIcon'+data.testCaseTag+'" class="fas fa-trash"></i> \
                                        </td>\
                                      </tr>';
                  $("#problemTestCasesTableBody").append(problemTestCasesTableRow);

                  $("#problemTestCaseDeleteIcon"+data.testCaseTag).click(function(){

                    firestore.collection("problemsTest").doc(problemIds).collection("problemTestCases").doc(doc.id).delete().then(function() {
                        console.log("Document testcase deleted! ");
                        $(this).remove();
                    }).catch(function(error) {
                        console.error("Error removing document: ", error);
                    });
                  });
                  count += 1;
             });

          });
    }
    function listenForProblemModerators(problemIds){

      firestore.collection("problemsTest").doc(problemIds).collection("problemModerators")
      .onSnapshot(function(querySnapshot) {
        $("#problemModeratorTableBody").empty();
        querySnapshot.forEach(function(doc) {
          var data = doc.data();
          var problemModeratorTableRow = '<tr id="problemModeratorTableRow'+data.userId+'"> \
              <td class="pt-3-half" ><img src="'+data.userProfilePictureUrl+'" class=" rounded-circle avatar z-depth-1-half " \
               height="40px" width="40px" \
              alt="Avatar"><strong class="mt-3 ml-3">'+data.userDisplayname+'</strong></td> \
              <td class="pt-3-half" >'+data.username+'</td> \
              <td> \
                <span class="table-remove"> \
                    <i id="problemModeratorDeleteIcon'+data.userId+'" class="fas fa-trash"></i> \
                </span> \
              </td> \
            </tr>';
            $("#problemModeratorTableBody").append(problemModeratorTableRow);

            $("#problemModeratorDeleteIcon"+data.userId).click(function(){
              firestore.collection("problemsTest").doc(problemIds).collection("problemModerators").where("problemId", "==", problemIds)

              firestore.collection("problemsTest").doc(problemIds).collection("problemModerators").doc(data.userId).delete().then(function() {
                  console.log("Document successfully deleted!");
              }).catch(function(error) {
                  console.error("Error removing document: ", error);
              });
              $(this).remove();
            });
       });

    });
  }
  function updateProblem(){

      var updateProblemDb = {
        problemName : problemNameText.value,
        problemStatement : editors.editor.getData(),
        inputFormate : editors.editor2.getData(),
        problemConstraints : editors.editor3.getData(),
        outputFormate : editors.editor3.getData(),
        problemAuthorName : problemDetails.problemAuthorName,
        problemAuthorProfilePicture: problemDetails.problemAuthorProfilePicture,
        problemCreatorAuthorId : problemDetails.problemCreatorAuthorId,
        participants : problemDetails.participants,
        problemSolved : problemDetails.problemSolved,
        problemCreateDate : problemDetails.problemCreateDate,
        problemTag : problemTags.value
      };
      updateProblemFirestore(updateProblemDb,queries[1]);

    }
  </script>
    </body>

    </html>
