<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="icon" href="assets/images/becoder.png" type="image/gif" sizes="16x16">
  <title>becoder</title>
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css">
  <!-- Bootstrap core CSS -->
  <link href="../assets/library/mdb/css/bootstrap.min.css" rel="stylesheet">
  <!-- Material Design Bootstrap -->
  <link href="../assets/library/mdb/css/mdb.min.css" rel="stylesheet">
  <!-- JQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.4/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="../assets/library/mdb/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="../assets/library/mdb/js/mdb.min.js"></script>
  <script src="https://cdn.ckeditor.com/ckeditor5/12.2.0/classic/ckeditor.js"></script>
  <!-- <script src="../assets/library/ckeditor/samples/js/sample.js"></script>
  <link rel="stylesheet" href="../assets/library/ckeditor/samples/css/samples.css"> -->



  <!--  firebase config-->
      <script src="../__/firebase/5.6.0/firebase-app.js"></script>
      <script src="../__/firebase/5.6.0/firebase-auth.js"></script>
      <script src="../__/firebase/5.6.0/firebase-firestore.js"></script>
      <script src="../__/firebase/5.6.0/firebase-storage.js"></script>
      <script src="../__/firebase/5.6.0/firebase-messaging.js"></script>
      <!--  firebase config-->
  <script src="../__/firebase/init.js"></script>

    <style>
    html, body {
      max-width: 100%;
      overflow-x: hidden;
    }
        .card{
            background-color: #fafafa ;
        }
      /*becoder style*/
      .becoder_tutorial_header > h3{
        filter:blur(1px);
        font-size: 20px;
      }
      .navbar .navbar-brand{
        margin-left:10% !important;
      }
      .navbar-nav > li{
        padding-left: 10px;
        padding-right: 10px;
      }
      .ml-auto .dropdown-menu {
        margin-top: 7px !important;
       left: auto !important;
       right: 0px;
      }
      /* TEMPLATE STYLES */

       main {
           padding-bottom: 2rem;
       }

       .extra-margins {
           margin-top: 1rem;
           margin-bottom: 2.5rem;
       }

       .jumbotron {
           text-align: center;
       }

       .navbar {
           background-color: #3b295a;
       }

       footer.page-footer {
           background-color: #3b295a;
           margin-top: 2rem;
       }
       .navbar .btn-group .dropdown-menu a:hover {
           color: #000 !important;
       }
       .navbar .btn-group .dropdown-menu a:active {
           color: #fff !important;
       }

    /*login/register*/
      .social {
          float: left;
          margin: 0 auto 30px;
          text-align: center;
      }

      .social .circle{
             width: 50px;
         height: 50px;
         -moz-border-radius: 70px;
         -webkit-border-radius: 70px;
         border-radius: 70px;

          background-color: #EEEEEE;
          color: #FFFFFF;
          display: inline-block;
          margin: 5px 13px;
          padding: 15px;
      }
       .social .circle .fab{
          font-size: 20px;
      }
      .social .facebook{
          background-color: #455CA8;
          color: #FFFFFF;
      }
      .social .google{
          background-color: #F74933;
      }
      .social .github{
          background-color: #403A3A;
      }
      .facebook:hover{
          background-color: #6E83CD;
      }
      .google:hover{
          background-color: #FF7566;
      }
      .github:hover{
          background-color: #4D4D4d;;
      }
      .login_connect_with{
          text-align: center;
      }
      .contest_reg_button{
          border: 1px solid black;
          padding: 5px;
          padding-left: 25px;
          padding-right: 25px;
          border-radius: 5px;
          font-size: 20px;
          z-index: 0;
        }
  .no_padding{
    padding: 0;
    margin: 0;
  }

  .contest_list{
    margin-left : 100px!important;
    margin-right : 100px!important;
  }
  .contest_search{
    margin-left: 460px;
  }


  </style>
<style>
html, body {
    max-width: 100%;
    overflow-x: hidden;
}
  .create_challange_div label{
    display: inline-block;

  }
  .create_challange_div textarea{
    width: 400px;
    height: 50px;
  }
  .create_challange_div label{
    position: relative;
    top: 40px;
  }
  .create_challange_div div{
  }

  label.required::after {
    content: '*';
    margin-left: 2px;
    color: red;
    font-size:20px;
  }
.grid-container{
  margin-left: 250px!important;
}
.medium{
  width: 500px;
}
.grid-container{
  width: 750px;
}
.ck-editor__editable
{
    min-height: 200px !important;
}
.navbar-fixed-bottom{
  position: fixed;
  bottom: 0;
  width: 100%;
  background-color: #f5f5f5;
}
</style>
</head>

<body>
  <!--Main Navigation-->
  <header>
    <!--Navbar-->
    <nav class="navbar fixed-top navbar-expand-lg navbar-dark bg-blue scrolling-navbar">
      <a class="navbar-brand" href="../index.html">
        <img src="../assets/images/becoder.png" width="30" height="30" class="d-inline-block align-top" alt="">
      </a>
          <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#becoderNavbarToggle" aria-controls="navbarTogglerDemo01" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
          </button>
          <div class="collapse navbar-collapse" id="becoderNavbarToggle">
            <ul class="navbar-nav mr-auto mt-2 mt-lg-0">
              <li class="nav-item active">
                <a class="nav-link" href="../index.html">Home <span class="sr-only">(current)</span></a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Practice</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="../contests.html">Contests</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Resource</a>
              </li>
              <li class="nav-item" style="padding-right:20px;padding-left:20px">

              </li>

            </ul>
            <ul class="navbar-nav ml-auto">
              <li class="nav-item">
                <a class="nav-link" href="#">Leaderboard</a>
              </li>
              <li class="nav-item">
                <a class="nav-link" href="#">Notifications</a>
              </li>
              <li class="nav-item dropdown" id="navbar-user-item" hidden>
                <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                  <img id="nav-user-pic" width="30" height="30" class="d-inline-block align-top" alt="">
                  <span id="nav-user-name">becoder</span></a>
                <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                  <a class="dropdown-item" href="#">Ranking</a>
                  <a class="dropdown-item" href="../userProfile.html">Profile</a>
                  <a class="dropdown-item" href="#">Submission</a>
                  <a class="dropdown-item" href="#">Note</a>
                  <a class="dropdown-item" href="#">Setting</a>
                  <a class="dropdown-item" href="contests.html">Administration</a>
                  <a class="dropdown-item" id="logout" href="#">Logout</a>

                </div>
              </li>
            </ul>
          </div>
        </nav>
    <!--/.Navbar-->

    </header>




  <div class="ml-5 container-fluid mt-3">
    <h3><strong>Manage Problem </strong><span style="font-size:14px">create problem</span></h1>

  </div>
  <hr />
<div class="container-fluid ">
<div class="maincontent ml-5 mr-5">

<div class="head">
<h2>Create Problem By Own</h2>
<p>Get started by providing the initial details needed to create a challenge.</p>

</div>
<hr />
<form>

<div class="landingPageForm">
          <div class="create_challange_div">
              <label class="required">Problem Name</label>
              <div class="ml-5">
                <div class="grid-container ml-5">
                  <input type="text" id="problemname" placeholder="Enter Challenge Name" class="medium" />

                  </div>
              </div>
          </div>

          <div class="create_challange_div ">
              <label class="required">Problem Statement</label>
              <div class="ml-5">
                <div class="grid-container ml-5">
            				<div id="editor">

            				</div>
                  </div>
              </div>

          </div>

          <div class="create_challange_div">
              <label class="required">Input Format</label>
              <div class="ml-5">
                <div class="grid-container ml-5">
                    <div id="editor2">

                    </div>
                  </div>
              </div>
          </div>

          <div class="create_challange_div">
              <label class="required">Constraints</label>
              <div class="ml-5">
                <div class="grid-container ml-5">
                    <div id="editor3">

                    </div>
                  </div>
              </div>
            </div>


            <div class="create_challange_div">
              <label class="required">Output Format</label>
              <div class="ml-5">
                <div class="grid-container ml-5">
            				<div id="editor4">

            				</div>
                  </div>
              </div>
              </div>


              <div class="create_challange_div">
                <label class="required">Tags</label>
                <div class="ml-5">
                  <div class="grid-container ml-5">
              				<textarea id="create_problem_tags">
                      </textarea>
                    </div>
                </div>
                </div>
                <br style="margin-bottom:200px;"/>
                <br style="margin-bottom:200px;"/>
                <br style="margin-bottom:200px;"/>
                <br style="margin-bottom:200px;"/>



</div>

</form>

</div>

</div>
  <div class="page-footer footer navbar-fixed-bottom " >

  <!-- Copyright -->
  <div class="footer-copyright text-right py-3 pr-5">
    <button id="create_problem_button" type="button" class="btn btn-success" >Create Problem </a>
  </div>
  <!-- Copyright -->
</div>
<script type="text/javascript" src="../bin/becoder.js"></script>
<script>
"use strict";

const editors = {}; // You can also use new Map() if you use ES6.

function createEditor( elementId ) {
    return ClassicEditor
        .create( document.getElementById( elementId ) )
        .then( editor => {
            editors[ elementId ] = editor;
        } )
        .catch( err => console.error( err.stack ) );
}

// In real life, you may also need to take care of the returned promises.
createEditor( 'editor' );
createEditor( 'editor2' );
createEditor( 'editor3' );
createEditor( 'editor4' );
// Later on:

// Checks that Firebase has been imported.
checkSetup();

function createProblemFirestore(createProblemDb){

  firestore.collection("problemsTest").add(createProblemDb)
  .then(function(docRef) {
    getProblemLanguageFromApiAndUpdate(docRef.id);
      console.log("Document written with ID: ", docRef.id);
  })
  .catch(function(error) {
      console.error("Error adding document: ", error);
  });

}

function creeateProblemOk(){
  var problemName = document.getElementById('problemname').value;
  var problemTags = document.getElementById('create_problem_tags').value;

  var createProblemDb = {
    problemName : problemName,
    problemStatement : editors.editor.getData(),
    inputFormate : editors.editor2.getData(),
    problemConstraints : editors.editor3.getData(),
    outputFormate : editors.editor4.getData(),
    problemAuthorName : getUserName(),
    problemAuthorProfilePicture: getProfilePicUrl(),
    problemCreatorAuthorId : getCurrentUserId(),
    participants : 100,
    problemSolved : 100,
    problemCreateDate : new Date(),
    problemTag : problemTags
  };
  createProblemFirestore(createProblemDb);

}

var logoutButton = document.getElementById('logout');
var userNavItem = document.getElementById('navbar-user-item');
var userNavName = document.getElementById('nav-user-name');
var userNavPic = document.getElementById('nav-user-pic');

var createProblemButton = document.getElementById('create_problem_button');


logoutButton.addEventListener('click',signOut);
createProblemButton.addEventListener('click',creeateProblemOk);


initFirebaseAuthCreateProblem();


</script>
</body>

</html>
